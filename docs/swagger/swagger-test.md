## Тестирование с использованием SWAGGER (OPEN API)


* После запуска переходим на http://localhost:8080/swagger-ui/index.html
По этой ссылки нам доступны все эндпоинты и их описание.
![swagger.png](image%2Fswagger.png)
 
* Убедимся что без авторизации нет возможности обратится к защищённому эндпоинту. Стату 403.

Разворачиваем GET запрос из секции СПИСОК ЗАДАЧ и нажимаем кнопку Try ot out.

![get-todo-403.png](image/get-todo-403.png)

Далее нажимем Execute, получаем код ответа 403. Код ответа на статус ошибки "HTTP 403 Forbidden" указывает, что сервер понял запрос, но отказывается его авторизовать.
![get-todo-403-execute.png](image/get-todo-403-execute.png)

* Создадим пользователя и получим токен.
    - открываем POST - Регистрация пользователя запрос в секции Аутентификация
      ![creat-user.png](image/creat-user.png)
    - Нажимаем Try ot out Меняем имя пользователя в Request body если хотим или оставляем тестовые данные
    - Нажимаем Execute. Если всё прошло успешно, приложение вернёт статус 200 (ок) и токен, если произошли какие-либо ошибки (ошибка валидации или занятое имя пользователя) вернётся статус 403.
  ![create-user-200.png](image/create-user-200.png)
    - Токен получен. Копируем его.
* Добавим полученый токен, чтобы проверить функции доступные только для авторизированых учетных записей.
 - Нажимем Authorize
![authorize.png](image%2Fauthorize.png)
 - Вставляем в получившемся окошке наш токен и нажимаем Authorize
![authorize-token.png](image%2Fauthorize-token.png)
 - если все правильно увидим что мы залогинены (Authorized)
![authorize-login.png](image%2Fauthorize-login.png)
* Можно приступать к тестированию эндпоинтов требующих авторизацию.
- Создим две задачи и выведем список.
![create-task.png](image%2Fcreate-task.png)
![list-task.png](image%2Flist-task.png)

* Для получения роли админа нужно воспользоватся тестовым запросом GET /api/v1/auth/get-admin